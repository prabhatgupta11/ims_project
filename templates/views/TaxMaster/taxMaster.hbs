<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/newStyle.css">
    <title>Tax Master</title>
    <link rel="stylesheet" href="css/order.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <style>
        body {
            background-color: rgb(244, 244, 247) !important;
        }

        .sup-int[type='text'] {
            padding-left: 30px;
        }

        .table-custom tbody tr:nth-child(even) {
            background-color: #ffff;
        }


        /* Dark color for odd rows */
        .table-custom tbody tr:nth-child(odd) {
            background-color: rgb(244, 244, 247);
        }

        .tr-head th {
            text-align: center;
        }

        .breadcrumdiv {
            margin-left: 4px;
            margin-top: 0px;

        }

        ul.breadcrumb {

            list-style: none;

            padding-top: 15px;

        }

        ul.breadcrumb li {
            display: inline;
            font-size: 15px;
        }

        ul.breadcrumb li+li:before {
            padding: 8px;
            color: black;
            content: ">\00a0";
        }

        ul.breadcrumb li a {
            color: #4f46e5;
            text-decoration: none;

        }

        ul.breadcrumb li a:hover {
            color: #0808f0;
            text-decoration: underline;
        }

        #formdata {
            box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;
            width: 60%;
            padding: 8px 20px 18px 20px;
            background-color: white;


        }

        #formdata h5 {
            padding-top: 30px;

        }

        #billing-form h1 {
            text-align: left;
            font-size: 29px;
        }

        /* Media query for mobile devices */
        @media (max-width: 576px) {
            .breadcrumdiv {
                margin-top: 30px;
            }

            ul.breadcrumb li {
                font-size: 14px;
            }

            #formdata {

                width: 100%;

            }

            .input-field::placeholder {

                padding-left: 30px !important;
            }

            .input-field {
                padding-left: 30px !important;
                position: relative !important;
            }


            /* Add more mobile-specific styles here */
        }

        #line {
            padding-bottom: 5px;
            padding-right: 10px;
            padding-left: 12px;
            height: 40px;
            /* Set the height of the container div */

            display: flex;
            align-items: center;
            /* Vertically center the content */
            justify-content: center;
            /* Horizontally center the content */
        }

        #line-content {
            /* font-size: 24px; /* Adjust the font size for the content */
            /*  font-weight: 0px;  /* Adjust the font weight for a thinner appearance */
            background-color: #cbd5e1;
            width: 1px;
            height: 70%;
        }

        ul.breadcrumb li:last-child a {
            color: grey;
            /* Change the color to the grey color you prefer */

        }
    </style>
</head>

<body id="body-pd">

    {{>side}}
    <div class=" m-0" style="padding: 10px;">

        <div class="col-md-12 subtitle d-flex justify-content-between align-items-center w-100"
            style="margin-top: 50px;     padding-bottom: 0px;">

            <div class="me-two d-flex justify-content-center align-items-center">

                <div class="block">
                    <h4 class="flex-grow-1 listtocon " style="font-size: 24px; margin-top:0px ;  margin-bottom: 18px;">
                        Tax Master
                </div>
                <div id="line">
                    <span id="line-content"></span> <!-- Content inside the div -->
                </div>
                <div class="breadcrumdiv">
                    <ul class="breadcrumb">
                        <li><a href="#"> Home</a></li>
                        <li><a href="#">Tax MasterList</a></li>
                        <li><a href="#">Tax Master</a></li>

                    </ul>
                </div>
            </div>

            {{!-- <a href="/supplierMasterList" style="text-decoration: none;margin-right:20px ;margin-top: 25px;"> <i
                    class="fa fa-xmark text-dark fa-2x"></i></a> --}}
            <a href="/taxMasterList" style="text-decoration: none;margin-right:20px ;margin-top: 25px;"> <i
                    class="fa fa-xmark text-dark fa-2x"></i></a>
        </div>
    </div>
    <div>
        {{#if message}}
        <div class="alert alert-info">{{message}}</div>
        {{/if}}

        <form id="taxMasterform">
            {{!-- <h1>Order Billing</h1> --}}
            <div id="formdata">
                <h4>Tax Details</h4>
                <label for="Tax_Code" class="label-block">Tax Code:</label>
                <div class="sup-containe" style="position: relative;">
                    <input type="text" id="Tax_Code" name="Tax_Code" class="sup-int" placeholder="Enter Tax Code"
                        required>
                    <div class="sup-icon" style="position:absolute; left:10px;top:15%">
                        <i style='font-size:12px' class='fas'>&#xf121;</i>
                    </div>
                </div>



                <label for="HSN_Code" class="label-block">HSN Code:</label>
                <input type="text" id="HSN_Code" name="HSN_Code" placeholder="&#128100; Enter HSN Code">

                <label for="State_Code" class="label-block">State Code:</label>

                    <select id="State_Code" name="State_Code">
                        <option value="">Select State Code</option>
                    </select>




                <label for="Tax_percentage">Tax percentage:</label>
                <input type="number" id="Tax_percentage" name="Tax_Percentage" placeholder="Enter Tax percentage"
                    required>

                <label for="Status" class="label-block">Status:</label>
                <select id="Status" name="Status">
                    <option value="Active" selected>Active</option>
                    <option value="Inactive">Inactive</option>
                </select>

                <label for="Description">Description:</label>
                <div>
                    <textarea id="Description" name="Description" rows="4" placeholder="Enter Description" cols="72"
                        style="width: 100%;"></textarea><br><br>
                </div>


            </div>

    </div>
    </div>

    <button type="submit"
        style="border-radius: 10px; margin-top:30px; margin-bottom:30px; background-color:#4723d9;">Submit</button>

    </form>



    </div>




</body>
<script>


    document.addEventListener("DOMContentLoaded", function () {
        const stateSelect = document.getElementById("State_Code");


        stateSelect.innerHTML = '<option value="">Select State Code</option>';


        fetch("/allState")
            .then((res) => {
                return res.json();
            })

            .then((data) => {


                data.forEach((ele) => {
                    const option = document.createElement("option");
                    option.value = ele.id;
                    option.textContent = ele.Name;
                    stateSelect.appendChild(option);
                })

                console.log(5588, option)



            })
            .then((err) => {
                console.log(err.message)
            })

    });

    document.getElementById("taxMasterform").addEventListener("submit", function () {
 


        // Collect form data
        const formData = {
            Tax_Code: document.getElementById("Tax_Code").value,
            HSN_Code: document.getElementById("HSN_Code").value,
            Tax_percentage: document.getElementById("Tax_percentage").value,
            Description: document.getElementById("Description").value,
            Status: document.getElementById("Status").value,
            State_Code: document.getElementById("State_Code").value,
        };

        console.log(55555, formData)



        fetch('/createTaxMaster', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData),
        })
            .then(response => response.json())
            .then(data => {
                console.log('Data sent:', data);

            })
            .catch(error => {
                console.error('Error:', error);
            });



    });


</script>